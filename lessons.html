<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>SoftFingers Lessons</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="lessons.css">
  <link rel="stylesheet" href="livekeyboad.css">
  <style>
   
  </style>
</head>
<body>
  <div class="layout">
    <!-- Header -->
    <div class="card">
      <h1>Typing Lessons</h1>
      <div class="small">Your journey to typing mastery begins here üöÄ</div>
       <!-- Tabs -->
    <div class="card">
      <div class="tabs" id="lesson-tabs">
      <div class="tab active" data-level="beginner">Beginner
           </div>
     
      <div class="tab" data-level="intermediate">Intermediate</div>
        <div class="tab" data-level="advanced">Advanced</div>
      </div>
      
    </div>
    </div>
 <!-- Intermediate Section -->
    <div class="card hidden" id="section-intermediate">
      <div class="lockedBox" id="intermediate-lock">
        <h2>Intermediate Lessons üîí</h2>
        <p class="lock-msg">Complete all Beginner lessons (pass each with ‚â• 30 WPM & ‚â• 90% accuracy) to unlock.</p>
      </div>
      <div id="intermediate-content" class="hidden">
        <h2>Intermediate Lessons ‚úÖ</h2>
        <p>Unlocked! (We‚Äôll add structured content here next.)</p>
      </div>
    </div>

    <!-- Advanced Section -->
    <div class="card hidden" id="section-advanced">
      <div class="lockedBox" id="advanced-lock">
        <h2>Advanced Lessons üîí</h2>
        <p class="lock-msg">Complete Intermediate lessons to unlock Advanced.</p>
      </div>
      <div id="advanced-content" class="hidden">
        <h2>Advanced Lessons ‚úÖ</h2>
        <p>Unlocked! (Coming up after Intermediate.)</p>
      </div>
    </div>

   

    <!-- Beginner Section -->
     
    <div class="card" id="section-beginner">
      <h2>Introduction to Touch Typing</h2>
      <p><b>Touch Typing</b> means typing without looking at the keyboard. It improves speed, accuracy, and reduces strain.</p>

      <div class="grid-2" style="margin:10px 0 16px;">
        <div>
          <h3>Sitting Position</h3>
          <ul>
            <li>Sit upright with your back straight and shoulders relaxed.</li>
            <li>Feet flat on the floor; monitor at eye level.</li>
            <li>Wrists slightly raised; don‚Äôt rest them on the keyboard.</li>
            <li>Keep forearms parallel to the floor; take regular breaks.</li>
          </ul>
        </div>
        <div>
          <img class="diagram" src="correcting-your-sitting-posture-1.jpg" alt="Sitting posture (light bg)">
        </div>
      </div>

      <div class="grid-2" style="margin-bottom:16px;">
        <div>
          <h3>Hand Positioning</h3>
          <p>Rest on <b>Home Row</b>: <b>A S D F</b> (left) and <b>J K L ;</b> (right). Thumbs on <b>Space</b>. Return to home row after each key.</p>
        </div>
        <div>
          <img class="diagram" src="keybd_hand_position.jpg" alt="Hand positioning (light bg)">
        </div>
      </div>

      <h3>Typing Metrics</h3>
      <p><b>WPM</b> = Words Per Minute (1 word ‚âà 5 characters). <b>Accuracy</b> = Correct characters √∑ Typed characters. <b>AWPM</b> = WPM √ó Accuracy.</p>

      <hr style="border:none;border-top:1px solid rgba(255,255,255,.12);margin:14px 0">

      <h2>Beginner Lessons</h2>
      <p class="small">Pass requirement: <b>‚â• 30 WPM</b> and <b>‚â• 90% accuracy</b>. Each lesson is 120 seconds.</p>


     


      <!-- Progress -->
      <div class="progress-wrap">
        <div class="small" id="progress-text">Progress: 0 / 120 lessons passed</div>
        <div class="progress-line"><div class="progress-bar" id="progress-bar"></div></div>
      </div>

      <!-- Lesson -->
       <div id="beginnerSection" style="margin:20px;"> 
      <div class="lesson-area">
         <h2 id="lessonHeader">
  <span id="lessonTitle"></span>
  <span id="lessonTimestamp"></span>
</h2>
  <div id="passage"></div>

  <input id="typing" type="text" placeholder="Start typing here‚Ä¶" autocomplete="off" spellcheck="false"/>
</div>


      <div class="lesson-toolbar">
        <button class="btn secondary" id="prev-btn">Previous</button>
        <button class="btn secondary" id="next-btn">Next</button>
        <button class="btn" id="retry-btn">Retry</button>
        <div class="stat"><div class="label">Timer ‚è±Ô∏è</div><div class="value" id="timer">120s</div></div>
        <div class="stat"><div class="label">WPM</div><div class="value" id="stat-wpm">0</div></div>
        <div class="stat"><div class="label">Accuracy</div><div class="value" id="stat-acc">100%</div>
              <div id="progressSection">
 </div>

<!-- Progress Modal --> <div id="progressModal" class="modal"> 
  <div class="modal-content"> <span id="closeProgress" class="close">&times;</span> <h2>üìä Lesson Progress Bar</h2>
    <!-- Progress bar container -->
      <div id="progressContainer"> <div id="progressBar"></div>
    </div> <p id="progressText"></p> <h2>Progress Historyüìä </h2> <ul id="progressList"></ul> </div> </div> </div> <button class="btn secondary" id="Progress-btn">Check Your Lesson History Here</button> <ul id="progressList"></ul> </div> </div>

   <!-- Live Keyboard -->
<div class="keyboard-container">
<!-- === Live QWERTY Keyboard + SVG Hands (overlay) === -->
<div id="trainer-qwerty">
  <!-- Keyboard -->
  <div class="keyboard" aria-label="Virtual QWERTY keyboard">
    <!-- Row 1 -->
    <div class="row">
      <div class="key wide" data-code="Backquote">
        <span class="shift">~</span><span class="base">`</span>
      </div>
      <div class="key" data-code="Digit1"><span class="shift">!</span><span class="base">1</span></div>
      <div class="key" data-code="Digit2"><span class="shift">@</span><span class="base">2</span></div>
      <div class="key" data-code="Digit3"><span class="shift">#</span><span class="base">3</span></div>
      <div class="key" data-code="Digit4"><span class="shift">$</span><span class="base">4</span></div>
      <div class="key" data-code="Digit5"><span class="shift">%</span><span class="base">5</span></div>
      <div class="key" data-code="Digit6"><span class="shift">^</span><span class="base">6</span></div>
      <div class="key" data-code="Digit7"><span class="shift">&amp;</span><span class="base">7</span></div>
      <div class="key" data-code="Digit8"><span class="shift">*</span><span class="base">8</span></div>
      <div class="key" data-code="Digit9"><span class="shift">(</span><span class="base">9</span></div>
      <div class="key" data-code="Digit0"><span class="shift">)</span><span class="base">0</span></div>
      <div class="key" data-code="Minus"><span class="shift">_</span><span class="base">-</span></div>
      <div class="key" data-code="Equal"><span class="shift">+</span><span class="base">=</span></div>
      <div class="key xwide" data-code="Backspace">Backspace</div>
    </div>
    <!-- Row 2 -->
    <div class="row">
      <div class="key wide" data-code="Tab">Tab</div>
      <div class="key" data-code="KeyQ">Q</div>
      <div class="key" data-code="KeyW">W</div>
      <div class="key" data-code="KeyE">E</div>
      <div class="key" data-code="KeyR">R</div>
      <div class="key" data-code="KeyT">T</div>
      <div class="key" data-code="KeyY">Y</div>
      <div class="key" data-code="KeyU">U</div>
      <div class="key" data-code="KeyI">I</div>
      <div class="key" data-code="KeyO">O</div>
      <div class="key" data-code="KeyP">P</div>
      <div class="key" data-code="BracketLeft"><span class="shift">{</span><span class="base">[</span></div>
      <div class="key" data-code="BracketRight"><span class="shift">}</span><span class="base">]</span></div>
      <div class="key" data-code="Backslash"><span class="shift">|</span><span class="base">\</span></div>
    </div>
    <!-- Row 3 -->
    <div class="row">
      <div class="key wide" data-code="CapsLock">Caps</div>
      <div class="key" data-code="KeyA">A</div>
      <div class="key" data-code="KeyS">S</div>
      <div class="key" data-code="KeyD">D</div>
      <div class="key" data-code="KeyF">F</div>
      <div class="key" data-code="KeyG">G</div>
      <div class="key" data-code="KeyH">H</div>
      <div class="key" data-code="KeyJ">J</div>
      <div class="key" data-code="KeyK">K</div>
      <div class="key" data-code="KeyL">L</div>
      <div class="key" data-code="Semicolon"><span class="shift">:</span><span class="base">;</span></div>
      <div class="key" data-code="Quote"><span class="shift">"</span><span class="base">'</span></div>
      <div class="key xwide" data-code="Enter">Enter</div>
    </div>
    <!-- Row 4 -->
    <div class="row">
      <div class="key xxwide" data-code="ShiftLeft">Shift</div>
      <div class="key" data-code="KeyZ">Z</div>
      <div class="key" data-code="KeyX">X</div>
      <div class="key" data-code="KeyC">C</div>
      <div class="key" data-code="KeyV">V</div>
      <div class="key" data-code="KeyB">B</div>
      <div class="key" data-code="KeyN">N</div>
      <div class="key" data-code="KeyM">M</div>
      <div class="key" data-code="Comma"><span class="shift">&lt;</span><span class="base">,</span></div>
      <div class="key" data-code="Period"><span class="shift">&gt;</span><span class="base">.</span></div>
      <div class="key" data-code="Slash"><span class="shift">?</span><span class="base">/</span></div>
      <div class="key xxwide" data-code="ShiftRight">Shift</div>
    </div>
    <!-- Row 5 -->
    <div class="row">
      <div class="key wide" data-code="ControlLeft">Ctrl</div>
      <div class="key wide" data-code="MetaLeft">Win</div>
      <div class="key wide" data-code="AltLeft">Alt</div>
      <div class="key space" data-code="Space">Space</div>
      <div class="key wide" data-code="AltRight">Alt</div>
      <div class="key wide" data-code="MetaRight">Win</div>
      <div class="key wide" data-code="ContextMenu">Menu</div>
      <div class="key wide" data-code="ControlRight">Ctrl</div>
    </div>
  </div>

  <!-- SVG Hands (overlayed) -->
  <svg class="hands" viewBox="" aria-label="Hands overlay">
    <!-- Left Hand -->
    <g id="left-hand" transform="translate(150,110)">
      <!-- Palm -->
      <path d=""
           fill="transparent" stroke="#d7a88b" stroke-width="2"/>
      <!-- Thumb -->
      <path id="left-thumb" class="finger"
            d=""
            fill="transparent" stroke="#d7a88b" stroke-width="2"/>
      <!-- Index -->
      <path id="left-index" class="finger"
            d=""
            fill="transparent" stroke="#d7a88b" stroke-width="2"/>
      <!-- Middle -->
      <path id="left-middle" class="finger"
            d=""
            fill="transparent" stroke="#d7a88b" stroke-width="2"/>
      <!-- Ring -->
      <path id="left-ring" class="finger"
            d=""
            fill="transparent" stroke="#d7a88b" stroke-width="2"/>
      <!-- Pinky -->
      <path id="left-pinky" class="finger"
            d=""
            fill="transparent" stroke="#d7a88b" stroke-width="2"/>
    </g>

    <!-- Right Hand -->
    <g id="right-hand" transform="translate(540,110)">
      <!-- Palm -->
      <path d=""
            fill="transparent" stroke="#d7a88b" stroke-width="2"/>
      <!-- Thumb -->
      <path id="right-thumb" class="finger"
            d=""
            fill="transparent" stroke="#d7a88b" stroke-width="2"/>
      <!-- Index -->
      <path id="right-index" class="finger"
            d=""
            fill="transparent" stroke="#d7a88b" stroke-width="2"/>
      <!-- Middle -->
      <path id="right-middle" class="finger"
            d=""
            fill="transparent" stroke="#d7a88b" stroke-width="2"/>
      <!-- Ring -->
      <path id="right-ring" class="finger"
            d=""
           fill="transparent" stroke="#d7a88b" stroke-width="2"/>
      <!-- Pinky -->
      <path id="right-pinky" class="finger"
            d=""
            fill="transparent" stroke="#d7a88b" stroke-width="2"/>
    </g>
  </svg>
</div>

      
   
    <!-- Back -->
    <div class="card">
      <button class="btn back" onclick="window.location.href='main.html'">‚¨Ö Back to Dashboard</button>
    </div>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js">
 // ====== Track Beginner Results ======
  let beginnerResults = []; // {lesson: number, wpm: number, accuracy: number}

  function saveLessonResult(lessonNumber, wpm, accuracy) {
    beginnerResults.push({ lesson: lessonNumber, wpm, accuracy });

    // Check if all 120 lessons are done
    if (beginnerResults.length >= 120) {
      document.getElementById("downloadCertificateBtn").style.display = "inline-block";
    }
  }

  // ====== Calculate Overall Score ======
  function calculateOverallScores() {
    let totalWPM = 0, totalAccuracy = 0;
    beginnerResults.forEach(r => {
      totalWPM += r.wpm;
      totalAccuracy += r.accuracy;
    });
    let avgWPM = (totalWPM / beginnerResults.length).toFixed(2);
    let avgAccuracy = (totalAccuracy / beginnerResults.length).toFixed(2);
    return { avgWPM, avgAccuracy };
  }

  // ====== Generate Certificate ======
  document.getElementById("downloadCertificateBtn").addEventListener("click", () => {
    const { avgWPM, avgAccuracy } = calculateOverallScores();

    const { jsPDF } = window.jspdf;
    const doc = new jsPDF("landscape");

    // Background gradient rectangle
    const gradient = doc.setFillColor(240, 240, 255);
    doc.rect(0, 0, 297, 210, "F"); // A4 landscape size in mm

    // Logo placeholder (replace base64 later)
    const logoBase64 = "data:image/png;base64,...."; // <-- Replace with SoftFingers logo
    doc.addImage(logoBase64, "PNG", 120, 10, 60, 30);

    // Title
    doc.setFontSize(28);
    doc.setFont("helvetica", "bold");
    doc.text("Certificate of Completion", 148, 70, { align: "center" });

    // Subtitle
    doc.setFontSize(16);
    doc.setFont("helvetica", "normal");
    doc.text("This certifies that", 148, 90, { align: "center" });

    // User Name (replace with dynamic username if available)
    let userName = "User Name"; 
    doc.setFontSize(22);
    doc.setFont("times", "bolditalic");
    doc.text(userName, 148, 105, { align: "center" });

    // Achievement text
    doc.setFontSize(14);
    doc.setFont("helvetica", "normal");
    doc.text(`has successfully completed the Beginner Level`, 148, 120, { align: "center" });
    doc.text(`with an Overall WPM of ${avgWPM} and Accuracy of ${avgAccuracy}%`, 148, 135, { align: "center" });

    // Motivational Quote
    doc.setFont("times", "italic");
    doc.setFontSize(12);
    doc.text("‚ÄúDetermination kills all difficulties‚Äù", 148, 170, { align: "center" });

    // Footer
    const today = new Date().toLocaleDateString();
    doc.setFont("helvetica", "normal");
    doc.text(`Date: ${today}`, 30, 190);
    doc.text("____________________", 250, 190);
    doc.text("Signature", 250, 200);

    // Save PDF
    doc.save("Beginner_Certificate.pdf");
  });
  </script>
<script src="lessons.js"></script>
  <script src="livekeyboard.js"></script>
</body>
</html>






